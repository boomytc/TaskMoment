# TaskMoment

TaskMoment 是一款简洁高效的任务管理工具，旨在帮助用户轻松记录、跟踪并高效管理日常任务。通过清晰的任务列表、标签分类和截止日期提醒，TaskMoment 帮助用户合理规划时间，提升个人工作效率。

![TaskMoment 界面预览](docs/images/preview.png)

## 主要功能

- **任务管理**：创建、编辑和删除任务，设置截止日期
- **多标签支持**：为任务添加多个标签，灵活分类管理
- **标签管理**：创建、编辑和删除标签
- **任务状态追踪**：标记任务完成状态，直观显示进度
- **简洁界面**：清晰直观的用户界面，操作简单
- **智能标签提取**：从任务标题中自动提取标签（使用 #标签 格式）
- **多标签筛选**：通过多个标签组合筛选任务

## 项目架构

项目采用 MVC (Model-View-Controller) 架构模式，实现了关注点分离，使代码结构清晰，易于维护和扩展：

- **模型层 (Model)**：负责数据结构定义和数据库交互
- **视图层 (View)**：负责用户界面展示和用户交互
- **控制器层 (Controller)**：负责业务逻辑处理，连接模型和视图

## 项目结构

```
TaskMoment/
├── main.py                      # 主入口文件
├── requirements.txt             # 依赖包列表
├── app/                         # 应用核心目录
│   ├── models/                  # 数据模型层
│   │   ├── base.py              # 基础模型和数据库配置
│   │   ├── task.py              # 任务模型
│   │   └── tag.py               # 标签模型
│   ├── views/                   # 视图层
│   │   ├── main_window.py       # 主窗口
│   │   ├── task_tab.py          # 任务标签页
│   │   └── tag_tab.py           # 标签标签页
│   ├── controllers/             # 控制器层
│   │   ├── task_controller.py   # 任务控制器
│   │   └── tag_controller.py    # 标签控制器
│   └── utils/                   # 工具函数
│       └── db.py                # 数据库工具
└── data/                        # 数据存储目录
    └── tasks.db                 # SQLite 数据库文件
```

## 技术实现细节

### 模型层

- **SQLAlchemy ORM**：使用对象关系映射技术，将数据库表映射为Python类
- **多对多关系**：任务和标签之间实现了多对多关系，一个任务可以有多个标签，一个标签也可以关联多个任务
- **数据验证**：在模型层实现了基本的数据验证逻辑

### 控制器层

- **业务逻辑封装**：将所有业务逻辑封装在控制器中，保持视图层的简洁
- **数据转换**：处理模型数据和视图数据之间的转换
- **智能标签提取**：实现了从任务标题中自动提取标签的功能

### 视图层

- **PySide6 UI**：基于Qt框架的现代化用户界面
- **响应式设计**：界面元素会根据内容和窗口大小自适应调整
- **事件驱动**：通过信号槽机制实现组件间的通信

## 技术栈

- **Python 3.8+**：核心编程语言
- **PySide6**：Qt for Python，用于构建图形用户界面
- **SQLAlchemy**：Python ORM 框架，用于数据库操作
- **SQLite**：轻量级数据库，用于本地数据存储

## 安装与运行

### 环境要求

- Python 3.8+
- pip 包管理器

### 安装步骤

1. 克隆仓库

```bash
git clone https://github.com/yourusername/TaskMoment.git
cd TaskMoment
```

2. 安装依赖

```bash
pip install -r requirements.txt
```

3. 运行应用

```bash
python main.py
```

## 使用指南

### 任务管理

1. **添加任务**：
   - 在任务管理标签页，输入任务内容
   - 设置截止日期
   - 点击「选择标签」按钮选择一个或多个标签
   - 点击「添加」按钮创建任务
   - 也可以直接在任务标题中使用 `#标签名` 格式添加标签

2. **编辑任务**：
   - 点击任务行中的「编辑」按钮
   - 在弹出的对话框中修改任务信息
   - 点击「保存」按钮保存更改

3. **删除任务**：
   - 点击任务行中的「删除」按钮
   - 在确认对话框中点击「确定」

4. **标记完成**：
   - 勾选任务前的复选框，已完成的任务会显示删除线

### 标签管理

1. **添加标签**：
   - 在标签管理标签页，输入标签名称
   - 点击「添加」按钮或按回车键

2. **重命名标签**：
   - 点击标签行中的「重命名」按钮
   - 在弹出的对话框中输入新名称
   - 点击「确定」按钮保存更改

3. **删除标签**：
   - 点击标签行中的「删除」按钮
   - 在确认对话框中点击「确定」
   - 注意：删除标签不会删除关联的任务，但会移除任务与该标签的关联

### 高级技巧

1. **快速添加标签**：在任务标题中直接使用 `#标签名` 格式，系统会自动提取并创建标签
2. **批量操作**：可以通过标签快速筛选相关任务，然后进行批量操作
3. **任务优先级**：可以通过不同的标签来标记任务优先级，如 `#重要`、`#紧急` 等

## 数据库设计

TaskMoment 使用 SQLite 数据库存储数据，主要包含以下表：

1. **task**：存储任务信息
   - id：任务ID
   - title：任务标题
   - completed：完成状态
   - created_at：创建时间
   - due_date：截止日期

2. **tag**：存储标签信息
   - id：标签ID
   - tag：标签名称

3. **task_tags**：存储任务和标签的多对多关系
   - task_id：任务ID
   - tag_id：标签ID

## 开发计划

- [x] 基础任务管理功能
- [x] 多标签支持
- [x] MVC架构重构
- [ ] 任务筛选和搜索
- [ ] 数据导入导出
- [ ] 任务优先级设置
- [ ] 任务提醒功能
- [ ] 数据统计和可视化
- [ ] 用户账户系统
- [ ] 云同步功能
- [ ] 移动端应用

## 贡献指南

欢迎贡献代码、报告问题或提出新功能建议！请遵循以下步骤：

1. Fork 仓库
2. 创建功能分支 (`git checkout -b feature/amazing-feature`)
3. 提交更改 (`git commit -m 'Add some amazing feature'`)
4. 推送到分支 (`git push origin feature/amazing-feature`)
5. 创建 Pull Request

## 许可证

本项目采用本人亲自许可，对天默念 **"Amazing Boom 请赐予我许可吧！"** 即可获取许可。




